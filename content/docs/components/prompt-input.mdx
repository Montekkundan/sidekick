---
title: Prompt Input
description: The foundational input component for AI interfaces. 100% compatible with Shadcn UI, featuring compound component architecture, flexible variants, and seamless composition.
component: true
---

<ComponentPreview name="prompt-input" />

## Overview

The `PromptInput` is designed to be the logic and visual foundation for any AI interaction. Built on top of `radix-ui` primitives and 100% compatible with Shadcn UI's styling system, it acts as a robust `form` wrapper that handles state, attachments, and submissions while letting you compose the internal layout exactly how you want.

It follows the **Compound Component** pattern, allowing granular control over every part of the input, from the textarea to the toolbars and actions.

## Installation

<CodeTabs>

<TabsList>
  <TabsTrigger value="cli">CLI</TabsTrigger>
  <TabsTrigger value="manual">Manual</TabsTrigger>
</TabsList>
<TabsContent value="cli">

```bash
npx shadcn@latest add https://sidekick.montek.dev/r/prompt-input.json
```

</TabsContent>

<TabsContent value="manual">

<Steps>

<Step>Copy and paste the following code into your project.</Step>

<ComponentSource name="prompt-input" title="components/ui/prompt-input.tsx" />

<Step>Update the import paths to match your project setup.</Step>

</Steps>

</TabsContent>

</CodeTabs>

## Core Concepts

### Foundation & Compatibility

`PromptInput` uses `InputGroup` (a flexible flexbox container) internally to align elements. It is fully compatible with Shadcn UI Form schemas and themes.

### Compound Composition

You can use the dot-notation exports (e.g., `PromptInput.Textarea`) or named imports to build your interface. This decoupled architecture allows you to place buttons, menus, and text areas anywhere within the root provider.

## Usage

### Basic

```tsx
import { PromptInput } from "@/components/ui/prompt-input";

export function ChatInput() {
  return (
    <PromptInput onSubmit={(message) => console.log(message)}>
      <PromptInput.Body>
        <PromptInput.Textarea />
      </PromptInput.Body>
      <PromptInput.Footer>
        <PromptInput.Tools />
        <PromptInput.Submit />
      </PromptInput.Footer>
    </PromptInput>
  );
}
```

### Advanced Layout (Small / Compact)

Since `PromptInput` logic is separated from its layout, you can hoist the state using `PromptInputProvider` to place external triggers (like an "Add" button) next to the input while sharing the same context. This is perfect for "Pill" or "Compact" designs.

```tsx
import { PlusIcon } from "lucide-react"
import { PromptInput, PromptInputProvider } from "@/components/ui/prompt-input"

export function CompactChatInput() {
  return (
    <PromptInputProvider>
      <div className="flex items-center gap-2 rounded-full border p-1 pl-3 shadow-sm">
        {/* External Trigger accessing PromptInput context */}
        <button className="text-muted-foreground hover:text-foreground">
          <PlusIcon className="size-5" />
        </button>

        {/* The Input Component */}
        <PromptInput
          variant="ghost"
          size="sm"
          className="flex-1 border-none shadow-none"
          onSubmit={...}
        >
          <PromptInput.Body>
            <PromptInput.Textarea placeholder="Send a message..." />
            <PromptInput.Button size="sm">
              <MicIcon />
            </PromptInput.Button>
          </PromptInput.Body>
        </PromptInput>
      </div>
    </PromptInputProvider>
  )
}
```

### Large Variant

For standard detailed inputs with tools and attachments:

```tsx
<PromptInput variant="default" size="lg" onSubmit={...}>
  <PromptInput.Body>
    <PromptInput.Textarea minRows={3} />
  </PromptInput.Body>
  <PromptInput.Footer>
    <PromptInput.Tools>
      <PromptInput.Attachment />
      <PromptInput.ActionMenu />
    </PromptInput.Tools>
    <PromptInput.Submit />
</PromptInput.Footer>
</PromptInput>
```

### Custom Layouts & Toolbars

Leverage `PromptInput.Header`, `PromptInput.Footer`, and `PromptInput.Button` to build stacked layouts. Chip styling is intentionally minimal so teams can theme it.

```tsx
<PromptInput variant="outline" size="lg" onSubmit={...}>
  <PromptInput.Header align="block-start" className="gap-2">
    <div className="flex flex-wrap gap-2 text-xs text-muted-foreground">
      {["Campaign", "Brand voice"].map((chip) => (
        <span key={chip} className="whitespace-nowrap">
          {chip}
        </span>
      ))}
    </div>
  </PromptInput.Header>

  <PromptInput.Body>
    <PromptInput.Textarea minRows={4} placeholder="Detail the hero message..." />
    <PromptInput.Button>
      <MicIcon className="size-4" />
    </PromptInput.Button>
  </PromptInput.Body>

  <PromptInput.Footer className="flex-col gap-3">
    <div className="flex flex-wrap gap-3 text-xs text-muted-foreground">
      <span className="whitespace-nowrap">Tone: Playful</span>
      <span className="whitespace-nowrap">Audience: Growth</span>
    </div>
    <div className="flex w-full items-center justify-between gap-2">
      <PromptInput.Tools className="gap-2">
        <PromptInput.Button className="gap-1 px-3">
          <SparklesIcon className="size-4" />
          <span>Magic Fill</span>
        </PromptInput.Button>
        <PromptInput.Button className="gap-1 px-3">
          <GlobeIcon className="size-4" />
          <span>Search Docs</span>
        </PromptInput.Button>
      </PromptInput.Tools>
      <PromptInput.Submit />
    </div>
  </PromptInput.Footer>
</PromptInput>
```

Use the optional `align` prop on `PromptInput.Header`/`PromptInput.Footer` to switch between inline or stacked placement.

### Provider Controlled State

`PromptInputProvider` lets external controls manipulate the textarea or attachments. Useful for presets, context menus, or floating mic buttons.

```tsx
function Presets() {
  const controller = usePromptInputController()
  return (
    <div className="flex flex-wrap gap-2">
      <button
        className="rounded-full border px-3 py-1 text-xs"
        onClick={() =>
          controller.textInput.setInput("Summarize the research call...")
        }
      >
        Research recap
      </button>
      <button
        className="rounded-full border px-3 py-1 text-xs"
        onClick={() =>
          controller.textInput.setInput("Draft a beta onboarding email.")
        }
      >
        Email draft
      </button>
    </div>
  )
}

export function ProviderExample() {
  return (
    <PromptInputProvider initialInput="Give me a quick standup summary.">
      <Presets />
      <PromptInput shape="pill" size="sm" onSubmit={...}>
        <PromptInput.Body>
          <PromptInput.Textarea ref={textareaRef} />
          <PromptInput.Button size="icon-sm">
            <MicIcon className="size-4" />
          </PromptInput.Button>
        </PromptInput.Body>
        <PromptInput.Footer align="inline-end">
          <PromptInput.Tools>
            <PromptInput.Button className="gap-1 px-3">
              <SparklesIcon className="size-4" />
              <span>Rewrite</span>
            </PromptInput.Button>
          </PromptInput.Tools>
          <PromptInput.Submit />
        </PromptInput.Footer>
      </PromptInput>
    </PromptInputProvider>
  )
}
```

## API Reference

### Root: PromptInput

The main container. Accepts `className`, `variant`, `shape`, `size`, and standard form props.

| Prop      | Type                                        | Description                                                                                       |
| --------- | ------------------------------------------- | ------------------------------------------------------------------------------------------------- |
| `variant` | `default` \| `ghost` \| `outline` \| `none` | Controls the visual border and background style. Use `none` when wrapping with `PromptInputCard`. |
| `shape`   | `default` \| `pill`                         | Controls the border-radius. `pill` creates a fully rounded input.                                 |
| `size`    | `default` \| `sm` \| `lg`                   | Controls height, padding, and text size. `sm` is compact/single-line optimized.                   |

### PromptInputCard

Optional wrapper component for custom card-style containers with built-in transitions.

| Prop      | Type                 | Description                                                      |
| --------- | -------------------- | ---------------------------------------------------------------- |
| `variant` | `default` \| `muted` | Controls the background color intensity.                         |
| `shape`   | `default` \| `pill`  | Controls the border-radius. `pill` creates a fully rounded card. |

```tsx
<PromptInputCard shape="pill" variant="muted">
  <PromptInput variant="none" onSubmit={...}>
    ...
  </PromptInput>
</PromptInputCard>
```

### Logic: PromptInputProvider

Optional context provider. Use this when you need to control the input state (files, text) from _outside_ the main `PromptInput` component (e.g., a sibling button).

```tsx
<PromptInputProvider>
  <ExternalButton />
  <PromptInput />
</PromptInputProvider>
```

### Subcomponents

- **PromptInput.Textarea**: Auto-resizing textarea with `ref` support for speech or focus controls.
- **PromptInput.Header / PromptInput.Footer**: Toolbar containers. Pass `align` to toggle inline or stacked placement.
- **PromptInput.Tools**: Wrapper for grouped buttons or chip lists.
- **PromptInput.Button / PromptInput.Submit / PromptInput.SpeechButton**: Composable buttons built on top of `InputGroupButton`.
- **PromptInput.Attachments / PromptInput.Attachment**: File preview list plus individual attachment chips.
- **PromptInput.ActionMenu**: Pre-wired dropdown menu for custom actions or file uploads.
