---
title: Prompt Input
description: The foundational input component for AI interfaces. Built on Shadcn UI principles with compound composition, attachments, and speech controls.
component: true
---

<ComponentPreview name="prompt-input" />

## Overview

`PromptInput` is a composable `form` wrapper for AI chats. It handles text, attachments, and submit behavior while letting you control the exact layout with compound subcomponents. It is built on top of the `InputGroup` primitives and is fully compatible with shadcn/ui styling.

This component is pretty similar to [AI Elements Prompt Input](https://ai-sdk.dev/elements/components/prompt-input), but I added some improvements which I wanted, and removed uncessary complexity for my use cases.

You can use it as a self-contained component, or lift its state with `PromptInputProvider` so external buttons, menus, or presets can read/write the same input state.

## Installation

<CodeTabs>

<TabsList>
  <TabsTrigger value="cli">CLI</TabsTrigger>
  <TabsTrigger value="manual">Manual</TabsTrigger>
</TabsList>
<TabsContent value="cli">

<RegistryCommand path="/r/prompt-input.json" />

</TabsContent>

<TabsContent value="manual">

<Steps>

<Step>Copy and paste the following code into your project.</Step>

<ComponentSource name="prompt-input" title="components/ui/prompt-input.tsx" />

<Step>Update the import paths to match your project setup.</Step>

</Steps>

</TabsContent>

</CodeTabs>

## Usage

### Basic

```tsx
import {
  PromptInput,
  type PromptInputMessage,
} from "@/components/ui/prompt-input";

export function ChatInput() {
  const handleSubmit = async ({ text, files }: PromptInputMessage) => {
    if (!text.trim()) return;

    // Send text + files to your API route
    await fetch("/api/chat", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ text, files }),
    });
  };

  return (
    <PromptInput onSubmit={handleSubmit}>
      <PromptInput.Body>
        <PromptInput.Textarea placeholder="Ask me anything..." />
      </PromptInput.Body>
      <PromptInput.Footer>
        <PromptInput.Tools />
        <PromptInput.Submit />
      </PromptInput.Footer>
    </PromptInput>
  );
}
```

### Attachments + Action Menu

```tsx
<PromptInput
  accept="image/*"
  multiple
  maxFiles={4}
  onError={(err) => console.log(err.message)}
  onSubmit={handleSubmit}
>
  <PromptInput.Attachments>
    {(file) => <PromptInput.Attachment data={file} />}
  </PromptInput.Attachments>

  <PromptInput.Body>
    <PromptInput.Textarea
      minRows={3}
      placeholder="Drop files or paste images..."
    />
  </PromptInput.Body>

  <PromptInput.Footer>
    <PromptInput.Tools className="gap-2">
      <PromptInput.ActionMenu>
        <PromptInput.ActionMenuTrigger />
        <PromptInput.ActionMenuContent>
          <PromptInput.ActionAddAttachments />
          <PromptInput.ActionMenuItem>Summarize</PromptInput.ActionMenuItem>
        </PromptInput.ActionMenuContent>
      </PromptInput.ActionMenu>
    </PromptInput.Tools>
    <PromptInput.Submit />
  </PromptInput.Footer>
</PromptInput>
```

### External Controls with Provider

Use `PromptInputProvider` when you want to control the same input from siblings (preset chips, floating toolbars, etc.).

```tsx
import {
  PromptInput,
  PromptInputProvider,
  usePromptInputController,
} from "@/components/ui/prompt-input";

function Presets() {
  const controller = usePromptInputController();
  return (
    <div className="flex flex-wrap gap-2">
      <button
        className="rounded-full border px-3 py-1 text-xs"
        onClick={() => controller.textInput.setInput("Summarize the call")}
        type="button"
      >
        Recap
      </button>
      <button
        className="rounded-full border px-3 py-1 text-xs"
        onClick={() => controller.textInput.setInput("Draft a follow-up email")}
        type="button"
      >
        Follow-up
      </button>
    </div>
  );
}

export function ProviderExample() {
  return (
    <PromptInputProvider initialInput="Give me a quick update.">
      <Presets />
      <PromptInput shape="pill" size="sm" onSubmit={handleSubmit}>
        <PromptInput.Body>
          <PromptInput.Textarea />
          <PromptInput.SpeechButton />
        </PromptInput.Body>
        <PromptInput.Footer align="inline-end">
          <PromptInput.Tools>
            <PromptInput.Button className="gap-1 px-3">
              <SparklesIcon className="size-4" />
              <span>Rewrite</span>
            </PromptInput.Button>
          </PromptInput.Tools>
          <PromptInput.Submit />
        </PromptInput.Footer>
      </PromptInput>
    </PromptInputProvider>
  );
}
```

### Sleeves for Top/Bottom Sections

Use `Sleeve` components to create styled top or bottom sections that wrap around your prompt input, perfect for context chips, suggestions, or related UI.

```tsx
import { PromptInput } from "@/components/ui/prompt-input";

export function SleeveExample() {
  return (
    <div className="mx-auto max-w-2xl">
      <PromptInput.TopSleeve className="bg-muted/50 p-3">
        <div className="flex flex-wrap gap-2">
          <span className="text-muted-foreground text-xs">Suggested:</span>
          <button className="rounded-full border px-2 py-1 text-xs hover:bg-accent">
            Explain this code
          </button>
          <button className="rounded-full border px-2 py-1 text-xs hover:bg-accent">
            Add tests
          </button>
        </div>
      </PromptInput.TopSleeve>

      <PromptInput variant="outline" onSubmit={handleSubmit}>
        <PromptInput.Body>
          <PromptInput.Textarea placeholder="What would you like to know?" />
        </PromptInput.Body>
        <PromptInput.Footer>
          <PromptInput.Tools />
          <PromptInput.Submit />
        </PromptInput.Footer>
      </PromptInput>

      <PromptInput.BottomSleeve className="bg-muted/30 p-2">
        <p className="text-center text-muted-foreground text-xs">
          Press Enter to send, Shift+Enter for new line
        </p>
      </PromptInput.BottomSleeve>
    </div>
  );
}
```

## Behavior

- **Enter to submit** (Shift+Enter for a new line).
- **Paste images/files** directly into the textarea.
- **Backspace on empty input** removes the last attachment.
- **Drag and drop** files onto the input (or anywhere with `globalDrop`).
- **Attachment payloads**: file attachments are stored as `blob:` URLs while editing, then converted to data URLs on submit.

## API Reference

### PromptInput

The root form container. Accepts standard form props plus the options below.

| Prop              | Type                                        | Description                                                                                        |
| ----------------- | ------------------------------------------- | -------------------------------------------------------------------------------------------------- |
| `variant`         | `default` \| `ghost` \| `outline` \| `none` | Controls the visual border and background style. Use `none` when wrapping with `PromptInput.Card`. |
| `shape`           | `default` \| `pill`                         | Controls the border-radius. `pill` creates a fully rounded input.                                  |
| `size`            | `default` \| `sm` \| `lg`                   | Controls height, padding, and text size. `sm` is compact/single-line optimized.                    |
| `focusRing`       | `boolean`                                   | Toggles the input focus ring styling.                                                              |
| `accept`          | `string`                                    | MIME types allowed (ex: `image/*`).                                                                |
| `multiple`        | `boolean`                                   | Allow multiple files in the picker.                                                                |
| `globalDrop`      | `boolean`                                   | Accept drops anywhere on the document instead of just the input.                                   |
| `maxFiles`        | `number`                                    | Maximum number of files allowed.                                                                   |
| `maxFileSize`     | `number`                                    | Maximum file size in bytes.                                                                        |
| `syncHiddenInput` | `boolean`                                   | Deprecated. File inputs cannot be set programmatically; prefer a custom submit payload.            |
| `onError`         | `(err) => void`                             | Called on max file/size/accept errors.                                                             |
| `onSubmit`        | `(message, event) => void \| Promise<void>` | Called with `{ text, files }` after submit (files are converted to data URLs when needed).         |

### PromptInputMessage

```ts
type PromptInputMessage = {
  text: string;
  files: FileUIPart[];
};
```

### PromptInput.Card

Optional wrapper component for custom card-style containers.

| Prop      | Type                 | Description                              |
| --------- | -------------------- | ---------------------------------------- |
| `variant` | `default` \| `muted` | Controls the background color intensity. |
| `shape`   | `default` \| `pill`  | Controls the border-radius.              |

### PromptInputProvider

Optional context provider that lifts text + attachment state outside of `PromptInput`.

### Subcomponents

- **PromptInput.Body**: Flex container for the textarea + inline buttons.
- **PromptInput.Textarea**: Auto-resizing textarea with paste/file handling.
- **PromptInput.Header / PromptInput.Footer**: Toolbar containers. Pass `align` to toggle inline/stacked placement.
- **PromptInput.Tools**: Wrapper for grouped buttons or chip lists.
- **PromptInput.Button / PromptInput.Submit / PromptInput.SpeechButton**: Composable buttons built on top of `InputGroupButton`.
- **PromptInput.Attachments / PromptInput.Attachment**: File preview list plus individual attachment chips.
- **PromptInput.ActionMenu / ActionMenuTrigger / ActionMenuContent / ActionMenuItem**: Dropdown menu primitives.
- **PromptInput.ActionAddAttachments**: Pre-wired menu item to open the file picker.
- **PromptInput.Select / SelectTrigger / SelectContent / SelectItem / SelectValue**: Select primitives styled for toolbars.
- **PromptInput.HoverCard / HoverCardTrigger / HoverCardContent**: Hover card primitives for attachment previews.
- **PromptInput.TabsList / Tab / TabLabel / TabBody / TabItem**: Lightweight tab primitives for quick presets.
- **PromptInput.Sleeve / TopSleeve / BottomSleeve**: Decorative wrapper components for top/bottom sections around the input.
