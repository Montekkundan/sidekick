---
title: Prompt Input
description: The foundational input component for AI interfaces. Built on Shadcn UI principles with compound composition, attachments, and speech controls.
component: true
---

<ComponentPreview name="prompt-input" />

## Overview

`PromptInput` is a composable `form` wrapper for AI chats. It handles text, attachments, and submit behavior while letting you control the exact layout with compound subcomponents. It is built on top of the `InputGroup` primitives and is fully compatible with shadcn/ui styling.

You can use it as a self-contained component or lift its state with `PromptInputProvider` to place external buttons, menus, or presets anywhere in the UI.

## Installation

<CodeTabs>

<TabsList>
  <TabsTrigger value="cli">CLI</TabsTrigger>
  <TabsTrigger value="manual">Manual</TabsTrigger>
</TabsList>
<TabsContent value="cli">

```bash
npx shadcn@latest add https://sidekick.montek.dev/r/prompt-input.json
```

</TabsContent>

<TabsContent value="manual">

<Steps>

<Step>Copy and paste the following code into your project.</Step>

<ComponentSource name="prompt-input" title="components/ui/prompt-input.tsx" />

<Step>Update the import paths to match your project setup.</Step>

</Steps>

</TabsContent>

</CodeTabs>

## Usage

### Basic

```tsx
import { PromptInput } from "@/components/ui/prompt-input";

export function ChatInput() {
  const handleSubmit = async ({ text, files }) => {
    if (!text.trim()) return;
    // Send text + files to your API route
    await fetch("/api/chat", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ text, files }),
    });
  };

  return (
    <PromptInput onSubmit={handleSubmit}>
      <PromptInput.Body>
        <PromptInput.Textarea placeholder="Ask me anything..." />
      </PromptInput.Body>
      <PromptInput.Footer>
        <PromptInput.Tools />
        <PromptInput.Submit />
      </PromptInput.Footer>
    </PromptInput>
  );
}
```

### Attachments + Action Menu

```tsx
<PromptInput
  accept="image/*"
  multiple
  maxFiles={4}
  onError={(err) => console.log(err.message)}
  onSubmit={handleSubmit}
>
  <PromptInput.Attachments>
    {(file) => <PromptInput.Attachment data={file} />}
  </PromptInput.Attachments>

  <PromptInput.Body>
    <PromptInput.Textarea minRows={3} placeholder="Drop files or paste images..." />
  </PromptInput.Body>

  <PromptInput.Footer>
    <PromptInput.Tools className="gap-2">
      <PromptInput.ActionMenu>
        <PromptInput.ActionMenuTrigger />
        <PromptInput.ActionMenuContent>
          <PromptInput.ActionAddAttachments />
          <PromptInput.ActionMenuItem>Summarize</PromptInput.ActionMenuItem>
        </PromptInput.ActionMenuContent>
      </PromptInput.ActionMenu>
    </PromptInput.Tools>
    <PromptInput.Submit />
  </PromptInput.Footer>
</PromptInput>
```

### External Controls with Provider

Use `PromptInputProvider` to share input state across siblings, presets, or floating buttons.

```tsx
import { usePromptInputController } from "@/components/ui/prompt-input";

function Presets() {
  const controller = usePromptInputController();
  return (
    <div className="flex flex-wrap gap-2">
      <button
        className="rounded-full border px-3 py-1 text-xs"
        onClick={() => controller.textInput.setInput("Summarize the call")}
        type="button"
      >
        Recap
      </button>
      <button
        className="rounded-full border px-3 py-1 text-xs"
        onClick={() => controller.textInput.setInput("Draft a follow-up email")}
        type="button"
      >
        Follow-up
      </button>
    </div>
  );
}

export function ProviderExample() {
  return (
    <PromptInput.Provider initialInput="Give me a quick update.">
      <Presets />
      <PromptInput shape="pill" size="sm" onSubmit={handleSubmit}>
        <PromptInput.Body>
          <PromptInput.Textarea />
          <PromptInput.SpeechButton />
        </PromptInput.Body>
        <PromptInput.Footer align="inline-end">
          <PromptInput.Tools>
            <PromptInput.Button className="gap-1 px-3">
              <SparklesIcon className="size-4" />
              <span>Rewrite</span>
            </PromptInput.Button>
          </PromptInput.Tools>
          <PromptInput.Submit />
        </PromptInput.Footer>
      </PromptInput>
    </PromptInput.Provider>
  );
}
```

## Behavior

- **Enter to submit** (Shift+Enter for a new line).
- **Paste images/files** directly into the textarea.
- **Backspace on empty input** removes the last attachment.
- **Drag and drop** files onto the input (or anywhere with `globalDrop`).

## API Reference

### PromptInput

The root form container. Accepts standard form props plus the options below.

| Prop             | Type                                        | Description                                                                                       |
| ---------------- | ------------------------------------------- | ------------------------------------------------------------------------------------------------- |
| `variant`        | `default` \| `ghost` \| `outline` \| `none` | Controls the visual border and background style. Use `none` when wrapping with `PromptInput.Card`. |
| `shape`          | `default` \| `pill`                         | Controls the border-radius. `pill` creates a fully rounded input.                                 |
| `size`           | `default` \| `sm` \| `lg`                   | Controls height, padding, and text size. `sm` is compact/single-line optimized.                   |
| `focusRing`      | `boolean`                                   | Toggles the input focus ring styling.                                                             |
| `accept`         | `string`                                    | MIME types allowed (ex: `image/*`).                                                               |
| `multiple`       | `boolean`                                   | Allow multiple files in the picker.                                                               |
| `globalDrop`     | `boolean`                                   | Accept drops anywhere on the document instead of just the input.                                  |
| `maxFiles`       | `number`                                    | Maximum number of files allowed.                                                                  |
| `maxFileSize`    | `number`                                    | Maximum file size in bytes.                                                                       |
| `syncHiddenInput`| `boolean`                                   | Legacy flag for native forms (not used by default).                                               |
| `onError`        | `(err) => void`                             | Called on max file/size/accept errors.                                                            |
| `onSubmit`       | `(message, event) => void \| Promise<void>` | Called with `{ text, files }` after submit.                                                       |

### PromptInputMessage

```ts
type PromptInputMessage = {
  text: string;
  files: FileUIPart[];
};
```

Files are converted to data URLs when submitted so they can be sent to your API route or stored in the database.

### PromptInput.Card

Optional wrapper component for custom card-style containers.

| Prop      | Type                 | Description                              |
| --------- | -------------------- | ---------------------------------------- |
| `variant` | `default` \| `muted` | Controls the background color intensity. |
| `shape`   | `default` \| `pill`  | Controls the border-radius.              |

### PromptInput.Provider

Optional context provider that lifts text + attachment state outside of `PromptInput`.

### Subcomponents

- **PromptInput.Body**: Flex container for the textarea + inline buttons.
- **PromptInput.Textarea**: Auto-resizing textarea with paste/file handling.
- **PromptInput.Header / PromptInput.Footer**: Toolbar containers. Pass `align` to toggle inline/stacked placement.
- **PromptInput.Tools**: Wrapper for grouped buttons or chip lists.
- **PromptInput.Button / PromptInput.Submit / PromptInput.SpeechButton**: Composable buttons built on top of `InputGroupButton`.
- **PromptInput.Attachments / PromptInput.Attachment**: File preview list plus individual attachment chips.
- **PromptInput.ActionMenu / ActionMenuTrigger / ActionMenuContent / ActionMenuItem**: Dropdown menu primitives.
- **PromptInput.ActionAddAttachments**: Pre-wired menu item to open the file picker.
- **PromptInput.Select / SelectTrigger / SelectContent / SelectItem / SelectValue**: Select primitives styled for toolbars.
- **PromptInput.HoverCard / HoverCardTrigger / HoverCardContent**: Hover card primitives for attachment previews.
- **PromptInput.TabsList / Tab / TabLabel / TabBody / TabItem**: Lightweight tab primitives for quick presets.
