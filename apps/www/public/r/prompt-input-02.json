{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "prompt-input-02",
  "title": "Prompt Input Compact Cursor Style",
  "description": "A Cursor cloud agent style prompt input.",
  "dependencies": [],
  "registryDependencies": [
    "https://sidekick.montek.dev/r/prompt-input.json"
  ],
  "files": [
    {
      "path": "registry/new-york/blocks/prompt-input-02/page.tsx",
      "content": "import { CursorPromptInput } from \"@/components/ui/prompt-input-02/components/cursor-prompt-input\";\n\nexport default function Page() {\n  return (\n    <div className=\"flex min-h-svh w-full items-start justify-center p-6 pt-20 md:p-10 md:pt-28\">\n      <CursorPromptInput />\n    </div>\n  );\n}\n",
      "type": "registry:page",
      "target": "app/prompt-input-02/page.tsx"
    },
    {
      "path": "registry/new-york/blocks/prompt-input-02/components/cursor-prompt-input.tsx",
      "content": "\"use client\";\n\nimport {\n  ArrowUpIcon,\n  BugIcon,\n  ChevronDownIcon,\n  ExternalLinkIcon,\n  FileTextIcon,\n  GithubIcon,\n  ImageIcon,\n  RocketIcon,\n} from \"lucide-react\";\nimport { useMemo, useRef, useState } from \"react\";\n\nimport {\n  PromptInput,\n  type PromptInputMessage,\n  PromptInputProvider,\n  usePromptInputController,\n} from \"@/components/ui/prompt-input\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Command,\n  CommandEmpty,\n  CommandGroup,\n  CommandInput,\n  CommandItem,\n  CommandList,\n} from \"@/components/ui/command\";\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuRadioGroup,\n  DropdownMenuRadioItem,\n  DropdownMenuSeparator,\n  DropdownMenuTrigger,\n} from \"@/components/ui/dropdown-menu\";\nimport {\n  Popover,\n  PopoverContent,\n  PopoverTrigger,\n} from \"@/components/ui/popover\";\nimport { Switch } from \"@/components/ui/switch\";\n\ninterface Repository {\n  name: string;\n  owner: string;\n}\n\nconst repositories: Repository[] = [\n  { name: \"tag-v2\", owner: \"Verosoft-Design\" },\n  { name: \"2D-game\", owner: \"Montekkundan\" },\n  { name: \"aafreen\", owner: \"Montekkundan\" },\n  { name: \"ai\", owner: \"Montekkundan\" },\n  { name: \"ai_browser\", owner: \"Montekkundan\" },\n];\n\nconst models = [\n  { id: \"gpt-5.2\", label: \"GPT-5.2\" },\n  { id: \"opus-4.5\", label: \"Opus 4.5\" },\n  { id: \"gemini-3-pro\", label: \"Gemini 3 Pro\" },\n];\n\nconst promptPresets = {\n  securityAudit:\n    \"Review the last 10 merged PRs for any security vulnerabilities or potential data leaks. Step through the PRs one at a time, checking out the codebase at the time the PR was merged. Once you are done with all of the PRs, report your findings. Do not write any code, and do not report your findings until you have reviewed all of the PRs.\\n\\nRemember: Be extremely thorough. No security vulnerabilities can slip through.\",\n  improveAgents:\n    \"Review the repository and improve the AGENTS.md instructions. Be explicit and practical: document how to run the project (dev, build, test), where key code lives, coding conventions, and any gotchas (env vars, required services, typical workflows). Preserve existing intent, remove ambiguity, and keep the final AGENTS.md concise but complete. If multiple AGENTS.md files exist, ensure scope rules are respected and there is no conflicting guidance.\",\n  solveTodo:\n    \"Find a TODO in this codebase that represents a real missing feature, bug, or cleanup (not a low-value note). Explain why you chose it, implement the fix, and ensure it works end-to-end. Add or update tests if the project already has tests for that area. Keep the change minimal and focused. Finally, summarize what changed and how to verify it locally.\",\n} as const;\n\nfunction CursorQuickActions({\n  textareaRef,\n}: {\n  textareaRef: React.RefObject<HTMLTextAreaElement | null>;\n}) {\n  const controller = usePromptInputController();\n\n  const setPreset = (text: string) => {\n    controller.textInput.setInput(text);\n    requestAnimationFrame(() => textareaRef.current?.focus());\n  };\n\n  return (\n    <div className=\"mt-4 flex flex-wrap items-center justify-start gap-2\">\n      <Button\n        className=\"h-9 rounded-full px-4\"\n        onClick={() => setPreset(promptPresets.securityAudit)}\n        size=\"sm\"\n        type=\"button\"\n        variant=\"outline\"\n      >\n        Run security audit\n      </Button>\n      <Button\n        className=\"h-9 rounded-full px-4\"\n        onClick={() => setPreset(promptPresets.improveAgents)}\n        size=\"sm\"\n        type=\"button\"\n        variant=\"outline\"\n      >\n        Improve AGENTS.md\n      </Button>\n      <Button\n        className=\"h-9 rounded-full px-4\"\n        onClick={() => setPreset(promptPresets.solveTodo)}\n        size=\"sm\"\n        type=\"button\"\n        variant=\"outline\"\n      >\n        Solve a TODO\n      </Button>\n    </div>\n  );\n}\n\nexport function CursorPromptInput() {\n  const [repoOpen, setRepoOpen] = useState(false);\n  const [repoQuery, setRepoQuery] = useState(\"\");\n  const [selectedRepo, setSelectedRepo] = useState<Repository | null>(null);\n\n  const [modelOpen, setModelOpen] = useState(false);\n  const [useMultipleModels, setUseMultipleModels] = useState(false);\n  const [model, setModel] = useState(models[0].id);\n\n  const textareaRef = useRef<HTMLTextAreaElement>(null);\n\n  const filteredRepos = useMemo(() => {\n    const q = repoQuery.trim().toLowerCase();\n    if (!q) {\n      return repositories;\n    }\n    return repositories.filter((repo) => {\n      const haystack = `${repo.name} ${repo.owner}`.toLowerCase();\n      return haystack.includes(q);\n    });\n  }, [repoQuery]);\n\n  const modelLabel =\n    models.find((m) => m.id === model)?.label ?? models[0].label;\n\n  const handleSubmit = (message: PromptInputMessage) => {\n    // eslint-disable-next-line no-console\n    console.log(\"cursor-prompt\", {\n      message,\n      repository: selectedRepo,\n      model,\n      useMultipleModels,\n    });\n  };\n\n  return (\n    <div className=\"w-full max-w-3xl\">\n      <div className=\"mb-3 flex items-center justify-start\">\n        <Popover\n          onOpenChange={(open) => {\n            setRepoOpen(open);\n            if (!open) {\n              setRepoQuery(\"\");\n            }\n          }}\n          open={repoOpen}\n        >\n          <PopoverTrigger asChild>\n            <Button\n              className=\"h-8 gap-1 px-2 text-muted-foreground\"\n              size=\"sm\"\n              type=\"button\"\n              variant=\"ghost\"\n            >\n              <span>\n                {selectedRepo ? selectedRepo.name : \"Select repository\"}\n              </span>\n              <ChevronDownIcon className=\"size-4\" />\n            </Button>\n          </PopoverTrigger>\n          <PopoverContent align=\"start\" className=\"w-[320px] p-0\">\n            <Command shouldFilter={false}>\n              <CommandInput\n                onValueChange={setRepoQuery}\n                placeholder=\"Search repositories...\"\n                value={repoQuery}\n              />\n              <CommandList className=\"max-h-72\">\n                <CommandEmpty>No repositories found.</CommandEmpty>\n                <CommandGroup>\n                  {filteredRepos.map((repo) => {\n                    const isSelected =\n                      selectedRepo?.name === repo.name &&\n                      selectedRepo?.owner === repo.owner;\n\n                    return (\n                      <CommandItem\n                        className=\"flex items-start gap-2\"\n                        key={`${repo.owner}/${repo.name}`}\n                        onSelect={() => {\n                          setSelectedRepo(repo);\n                          setRepoOpen(false);\n                        }}\n                      >\n                        <div\n                          className={cn(\n                            \"mt-1 size-2 shrink-0 rounded-full\",\n                            isSelected\n                              ? \"bg-foreground\"\n                              : \"bg-muted-foreground/40\"\n                          )}\n                        />\n                        <div className=\"min-w-0\">\n                          <div className=\"truncate font-medium\">\n                            {repo.name}\n                          </div>\n                          <div className=\"truncate text-muted-foreground text-xs\">\n                            {repo.owner}\n                          </div>\n                        </div>\n                      </CommandItem>\n                    );\n                  })}\n                </CommandGroup>\n              </CommandList>\n            </Command>\n\n            <div className=\"border-t p-1\">\n              <button\n                className=\"flex w-full items-center gap-2 rounded-sm px-2 py-2 text-left text-sm hover:bg-accent\"\n                onClick={() => undefined}\n                type=\"button\"\n              >\n                <GithubIcon className=\"size-4 text-muted-foreground\" />\n                <span className=\"flex-1\">Manage GitHub</span>\n                <ExternalLinkIcon className=\"size-4 text-muted-foreground\" />\n              </button>\n            </div>\n          </PopoverContent>\n        </Popover>\n      </div>\n\n      <PromptInputProvider>\n        <PromptInput\n          className=\"mx-auto w-full\"\n          onSubmit={handleSubmit}\n          size=\"lg\"\n          variant=\"outline\"\n        >\n          <PromptInput.Body className=\"items-start px-4 py-2\">\n            <PromptInput.Textarea\n              className=\"min-h-36 text-base\"\n              minRows={6}\n              placeholder=\"Ask Cursor to build, fix bugs, explore\"\n              ref={textareaRef}\n            />\n          </PromptInput.Body>\n\n          <PromptInput.Footer className=\"items-center px-3 pb-3\">\n            <PromptInput.Tools className=\"gap-0\">\n              <DropdownMenu onOpenChange={setModelOpen} open={modelOpen}>\n                <DropdownMenuTrigger asChild>\n                  <Button\n                    className=\"h-8 gap-1 rounded-md px-2 text-muted-foreground\"\n                    size=\"sm\"\n                    type=\"button\"\n                    variant=\"ghost\"\n                  >\n                    {modelLabel}\n                    <ChevronDownIcon className=\"size-4\" />\n                  </Button>\n                </DropdownMenuTrigger>\n                <DropdownMenuContent align=\"start\" className=\"w-64 p-1\">\n                  <div className=\"flex items-center justify-between gap-3 px-2 py-1.5\">\n                    <span className=\"text-sm\">Use Multiple Models</span>\n                    <Switch\n                      checked={useMultipleModels}\n                      onCheckedChange={setUseMultipleModels}\n                    />\n                  </div>\n                  <DropdownMenuSeparator />\n                  <DropdownMenuRadioGroup\n                    onValueChange={setModel}\n                    value={model}\n                  >\n                    {models.map((m) => (\n                      <DropdownMenuRadioItem key={m.id} value={m.id}>\n                        {m.label}\n                      </DropdownMenuRadioItem>\n                    ))}\n                  </DropdownMenuRadioGroup>\n                </DropdownMenuContent>\n              </DropdownMenu>\n            </PromptInput.Tools>\n\n            <PromptInput.Tools className=\"gap-1\">\n              <PromptInput.Button\n                aria-label=\"Add image\"\n                className=\"rounded-md\"\n                size=\"icon-sm\"\n              >\n                <ImageIcon className=\"size-4\" />\n              </PromptInput.Button>\n              <PromptInput.Submit\n                aria-label=\"Send\"\n                className=\"rounded-full\"\n                size=\"icon-sm\"\n                variant=\"secondary\"\n              >\n                <ArrowUpIcon className=\"size-4\" />\n              </PromptInput.Submit>\n            </PromptInput.Tools>\n          </PromptInput.Footer>\n        </PromptInput>\n\n        <CursorQuickActions textareaRef={textareaRef} />\n      </PromptInputProvider>\n\n      <div className=\"mt-8 text-center\">\n        <p className=\"text-muted-foreground text-sm\">\n          Try these examples to get started\n        </p>\n        <div className=\"mt-3 flex flex-wrap items-center justify-center gap-3\">\n          <Button\n            className=\"h-10 rounded-full px-4\"\n            type=\"button\"\n            variant=\"outline\"\n          >\n            <FileTextIcon className=\"size-4\" />\n            Write documentation\n          </Button>\n          <Button\n            className=\"h-10 rounded-full px-4\"\n            type=\"button\"\n            variant=\"outline\"\n          >\n            <RocketIcon className=\"size-4\" />\n            Optimize performance\n          </Button>\n          <Button\n            className=\"h-10 rounded-full px-4\"\n            type=\"button\"\n            variant=\"outline\"\n          >\n            <BugIcon className=\"size-4\" />\n            Find and fix 3 bugs\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/ui/prompt-input-02/components/cursor-prompt-input.tsx"
    }
  ],
  "meta": {
    "iframeHeight": "800px"
  },
  "categories": [
    "prompt-input"
  ],
  "type": "registry:block"
}
