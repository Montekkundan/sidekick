{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "sidekick-03",
  "title": "Sidekick Floating Panel",
  "description": "A floating card that uses SidekickProvider with an inset area and a full chat panel.",
  "dependencies": [],
  "registryDependencies": [
    "https://sidekick.montek.dev/r/sidekick.json",
    "https://sidekick.montek.dev/r/prompt-input.json",
    "button",
    "avatar"
  ],
  "files": [
    {
      "path": "registry/new-york/blocks/sidekick-03/page.tsx",
      "content": "import { SidekickFloating } from \"@/components/ui/sidekick-03/components/sidekick-floating\";\n\nexport default function Page() {\n  return (\n    <div className=\"relative min-h-svh\">\n      <SidekickFloating />\n    </div>\n  );\n}\n",
      "type": "registry:page",
      "target": "app/sidekick-03/page.tsx"
    },
    {
      "path": "registry/new-york/blocks/sidekick-03/components/sidekick-floating.tsx",
      "content": "\"use client\";\n\nimport {\n  Conversation,\n  ConversationContent,\n} from \"@/components/ai-elements/conversation\";\nimport {\n  Message,\n  MessageContent,\n} from \"@/components/ai-elements/message\";\nimport {\n  Avatar,\n  AvatarFallback,\n  AvatarImage,\n} from \"@/components/ui/avatar\";\nimport { MessageCircleIcon, XIcon } from \"lucide-react\";\nimport Image from \"next/image\";\nimport React from \"react\";\nimport {\n  PromptInput,\n  PromptInputBody,\n  PromptInputFooter,\n  PromptInputSubmit,\n  PromptInputTextarea,\n  PromptInputTools,\n} from \"@/components/ui/prompt-input\";\nimport {\n  Sidekick,\n  SidekickContent,\n  SidekickFooter,\n  SidekickHeader,\n  SidekickInset,\n  SidekickProvider,\n  SidekickTrigger,\n} from \"@/components/ui/sidekick\";\nimport { Button } from \"@/components/ui/button\";\n\ninterface ChatMessage {\n  id: string;\n  from: \"user\" | \"assistant\";\n  content: string;\n}\n\nexport function SidekickFloating() {\n  const [open, setOpen] = React.useState(false);\n  const [showPreview, setShowPreview] = React.useState(true);\n  const [messages, setMessages] = React.useState<ChatMessage[]>([\n    {\n      id: \"1\",\n      from: \"assistant\",\n      content: \"Welcome! Ask me anything about this page.\",\n    },\n  ]);\n\n  const handleSubmit = (message: { text: string }) => {\n    if (!message.text.trim()) {\n      return;\n    }\n    const userMessage: ChatMessage = {\n      id: String(Date.now()),\n      from: \"user\",\n      content: message.text,\n    };\n    setMessages((prev) => [...prev, userMessage]);\n    setTimeout(() => {\n      setMessages((prev) => [\n        ...prev,\n        {\n          id: String(Date.now() + 1),\n          from: \"assistant\",\n          content: `You said: ${message.text}`,\n        },\n      ]);\n    }, 600);\n  };\n\n  return (\n    <div className=\"fixed inset-x-0 bottom-4 z-50 flex flex-col items-end gap-3 px-4 sm:inset-auto sm:right-6 sm:bottom-6 sm:px-0\">\n      {!open && showPreview && (\n        <div className=\"flex w-80 items-center gap-4 rounded-full border bg-background px-4 py-3 shadow-lg\">\n          <div className=\"flex size-10 items-center justify-center rounded-full bg-primary text-primary-foreground\">\n            <MessageCircleIcon className=\"size-5\" />\n          </div>\n          <div className=\"min-w-0 flex-1\">\n            <p className=\"truncate font-medium text-sm\">\n              Hi, how can I help you today? ðŸ‘‹\n            </p>\n            <p className=\"text-muted-foreground text-xs\">Just now</p>\n          </div>\n          <button\n            aria-label=\"Dismiss preview\"\n            className=\"text-muted-foreground transition hover:text-foreground\"\n            onClick={() => setShowPreview(false)}\n            type=\"button\"\n          >\n            <XIcon className=\"size-4\" />\n          </button>\n        </div>\n      )}\n\n      {open && (\n        <div className=\"h-[70vh] w-[min(92vw,420px)] overflow-hidden rounded-2xl border bg-background shadow-2xl sm:w-[min(92vw,520px)] md:w-[min(92vw,760px)]\">\n          <SidekickProvider\n            className=\"relative h-full min-h-0 flex-col [--sidekick-width:100%] md:flex-row md:[--sidekick-width:320px]\"\n            defaultOpen={true}\n            defaultOpenMobile={true}\n          >\n            <SidekickInset className=\"flex min-h-0 flex-1 items-center justify-center bg-muted/20 p-6 text-center\">\n              <div className=\"flex w-full max-w-xs flex-col items-center gap-3\">\n                {/* <Skeleton className=\"h-8 w-40 rounded-full\" />\n                <Skeleton className=\"h-32 w-56 rounded-xl\" /> */}\n                <Image\n                  alt=\"\"\n                  height={500}\n                  src=\"/images/New Beginnings.svg\"\n                  width={500}\n                />\n                <div className=\"space-y-1 text-muted-foreground text-xs\">\n                  <p>Ask about pricing, docs, or setup.</p>\n                  <p>\n                    Press <kbd className=\"rounded border px-1.5 py-0.5\">âŒ˜</kbd>{\" \"}\n                    + <kbd className=\"rounded border px-1.5 py-0.5\">I</kbd> to\n                    toggle.\n                  </p>\n                </div>\n              </div>\n            </SidekickInset>\n            <Sidekick mobileBehavior=\"floating\">\n              <SidekickHeader>\n                <span className=\"font-semibold\">Live Support</span>\n                <div className=\"ml-auto flex items-center gap-2\">\n                  <SidekickTrigger />\n                  <button\n                    aria-label=\"Close chat\"\n                    className=\"text-muted-foreground transition hover:text-foreground\"\n                    onClick={() => setOpen(false)}\n                    type=\"button\"\n                  >\n                    <XIcon className=\"size-4\" />\n                  </button>\n                </div>\n              </SidekickHeader>\n              <SidekickContent>\n                <Conversation>\n                  <ConversationContent>\n                    {messages.map((msg) => (\n                      <Message\n                        className={\n                          msg.from === \"user\" ? \"flex-row-reverse\" : \"flex-row\"\n                        }\n                        from={msg.from as \"user\" | \"assistant\"}\n                        key={msg.id}\n                      >\n                        <Avatar className=\"h-6 w-6 rounded-full\">\n                          <AvatarImage\n                            alt={\n                              msg.from === \"user\" ? \"@montekkundan\" : \"shadcn\"\n                            }\n                            src={\n                              msg.from === \"user\"\n                                ? \"https://github.com/montekkundan.png\"\n                                : \"https://github.com/shadcn.png\"\n                            }\n                          />\n                          <AvatarFallback>\n                            {msg.from === \"user\" ? \"MK\" : \"CN\"}\n                          </AvatarFallback>\n                        </Avatar>\n                        <MessageContent>{msg.content}</MessageContent>\n                      </Message>\n                    ))}\n                  </ConversationContent>\n                </Conversation>\n              </SidekickContent>\n              <SidekickFooter>\n                <PromptInput onSubmit={handleSubmit}>\n                  <PromptInputBody>\n                    <PromptInputTextarea placeholder=\"Type a message...\" />\n                  </PromptInputBody>\n                  <PromptInputFooter>\n                    <PromptInputTools />\n                    <PromptInputSubmit />\n                  </PromptInputFooter>\n                </PromptInput>\n              </SidekickFooter>\n            </Sidekick>\n          </SidekickProvider>\n        </div>\n      )}\n\n      <Button\n        className=\"size-12 rounded-full shadow-lg\"\n        onClick={() => setOpen((prev) => !prev)}\n        size=\"icon\"\n      >\n        {open ? (\n          <XIcon className=\"size-5\" />\n        ) : (\n          <MessageCircleIcon className=\"size-5\" />\n        )}\n      </Button>\n    </div>\n  );\n}\n",
      "type": "registry:component",
      "target": "components/ui/sidekick-03/components/sidekick-floating.tsx"
    }
  ],
  "meta": {
    "iframeHeight": "800px"
  },
  "categories": [
    "sidekick"
  ],
  "type": "registry:block"
}
