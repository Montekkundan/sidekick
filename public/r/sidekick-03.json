{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "sidekick-03",
  "title": "Sidekick Floating Panel",
  "description": "A floating card that uses SidekickProvider with an inset area and a full chat panel.",
  "dependencies": [],
  "registryDependencies": [
    "sidekick",
    "prompt-input",
    "button"
  ],
  "files": [
    {
      "path": "src/registry/new-york/blocks/sidekick-03/page.tsx",
      "content": "import { SidekickFloating } from \"@/registry/new-york/blocks/sidekick-03/components/sidekick-floating\";\n\nexport default function Page() {\n  return (\n    <div className=\"relative min-h-svh\">\n      <SidekickFloating />\n    </div>\n  );\n}\n",
      "type": "registry:page",
      "target": "app/sidekick-03/page.tsx"
    },
    {
      "path": "src/registry/new-york/blocks/sidekick-03/components/sidekick-floating.tsx",
      "content": "\"use client\";\n\nimport * as React from \"react\";\nimport { MessageCircleIcon, XIcon } from \"lucide-react\";\nimport { Button } from \"@/registry/new-york/ui/button\";\nimport { Skeleton } from \"@/registry/new-york/ui/skeleton\";\nimport {\n  PromptInput,\n  PromptInputBody,\n  PromptInputFooter,\n  PromptInputSubmit,\n  PromptInputTextarea,\n  PromptInputTools,\n} from \"@/registry/new-york/blocks/prompt-input\";\nimport {\n  Conversation,\n  ConversationContent,\n  Message,\n  MessageAvatar,\n  MessageContent,\n  Sidekick,\n  SidekickContent,\n  SidekickFooter,\n  SidekickHeader,\n  SidekickInset,\n  SidekickProvider,\n  SidekickTrigger,\n} from \"@/registry/new-york/blocks/sidekick\";\n\ntype ChatMessage = {\n  id: string;\n  from: \"user\" | \"assistant\";\n  content: string;\n};\n\nexport function SidekickFloating() {\n  const [open, setOpen] = React.useState(false);\n  const [showPreview, setShowPreview] = React.useState(true);\n  const [messages, setMessages] = React.useState<ChatMessage[]>([\n    {\n      id: \"1\",\n      from: \"assistant\",\n      content: \"Welcome! Ask me anything about this page.\",\n    },\n  ]);\n\n  const handleSubmit = (message: { text: string }) => {\n    if (!message.text.trim()) return;\n    const userMessage: ChatMessage = {\n      id: String(Date.now()),\n      from: \"user\",\n      content: message.text,\n    };\n    setMessages((prev) => [...prev, userMessage]);\n    setTimeout(() => {\n      setMessages((prev) => [\n        ...prev,\n        {\n          id: String(Date.now() + 1),\n          from: \"assistant\",\n          content: `You said: ${message.text}`,\n        },\n      ]);\n    }, 600);\n  };\n\n  return (\n    <div className=\"fixed inset-x-0 bottom-4 z-50 flex flex-col items-end gap-3 px-4 sm:inset-auto sm:bottom-6 sm:right-6 sm:px-0\">\n      {!open && showPreview && (\n        <div className=\"flex w-80 items-center gap-4 rounded-full border bg-background px-4 py-3 shadow-lg\">\n          <div className=\"flex size-10 items-center justify-center rounded-full bg-primary text-primary-foreground\">\n            <MessageCircleIcon className=\"size-5\" />\n          </div>\n          <div className=\"min-w-0 flex-1\">\n            <p className=\"truncate text-sm font-medium\">\n              Hi, how can I help you today? ðŸ‘‹\n            </p>\n            <p className=\"text-muted-foreground text-xs\">Just now</p>\n          </div>\n          <button\n            aria-label=\"Dismiss preview\"\n            className=\"text-muted-foreground transition hover:text-foreground\"\n            onClick={() => setShowPreview(false)}\n            type=\"button\"\n          >\n            <XIcon className=\"size-4\" />\n          </button>\n        </div>\n      )}\n\n      {open && (\n        <div className=\"h-[70vh] w-[min(92vw,420px)] overflow-hidden rounded-2xl border bg-background shadow-2xl sm:w-[min(92vw,520px)] md:w-[min(92vw,760px)]\">\n          <SidekickProvider\n            className=\"relative h-full min-h-0 flex-col [--sidekick-width:100%] md:flex-row md:[--sidekick-width:320px]\"\n            defaultOpen={true}\n            defaultOpenMobile={true}\n          >\n            <SidekickInset className=\"flex min-h-0 flex-1 items-center justify-center bg-muted/20 p-6 text-center\">\n              <div className=\"flex w-full max-w-xs flex-col items-center gap-3\">\n                <Skeleton className=\"h-8 w-40 rounded-full\" />\n                <Skeleton className=\"h-32 w-56 rounded-xl\" />\n                <div className=\"space-y-1 text-xs text-muted-foreground\">\n                  <p>Ask about pricing, docs, or setup.</p>\n                  <p>\n                    Press <kbd className=\"rounded border px-1.5 py-0.5\">âŒ˜</kbd> +{\" \"}\n                    <kbd className=\"rounded border px-1.5 py-0.5\">I</kbd> to toggle.\n                  </p>\n                </div>\n              </div>\n            </SidekickInset>\n            <Sidekick mobileBehavior=\"floating\">\n              <SidekickHeader>\n                <span className=\"font-semibold\">Live Support</span>\n                <div className=\"ml-auto flex items-center gap-2\">\n                  <SidekickTrigger />\n                  <button\n                    aria-label=\"Close chat\"\n                    className=\"text-muted-foreground transition hover:text-foreground\"\n                    onClick={() => setOpen(false)}\n                    type=\"button\"\n                  >\n                    <XIcon className=\"size-4\" />\n                  </button>\n                </div>\n              </SidekickHeader>\n              <SidekickContent>\n                <Conversation>\n                  <ConversationContent>\n                    {messages.map((msg) => (\n                      <Message from={msg.from} key={msg.id}>\n                        <MessageAvatar className=\"sr-only\" />\n                        <MessageContent from={msg.from}>\n                          {msg.content}\n                        </MessageContent>\n                      </Message>\n                    ))}\n                  </ConversationContent>\n                </Conversation>\n              </SidekickContent>\n              <SidekickFooter>\n                <PromptInput onSubmit={handleSubmit}>\n                  <PromptInputBody>\n                    <PromptInputTextarea placeholder=\"Type a message...\" />\n                  </PromptInputBody>\n                  <PromptInputFooter>\n                    <PromptInputTools />\n                    <PromptInputSubmit />\n                  </PromptInputFooter>\n                </PromptInput>\n              </SidekickFooter>\n            </Sidekick>\n          </SidekickProvider>\n        </div>\n      )}\n\n      <Button\n        className=\"size-12 rounded-full shadow-lg\"\n        onClick={() => setOpen((prev) => !prev)}\n        size=\"icon\"\n      >\n        {open ? <XIcon className=\"size-5\" /> : <MessageCircleIcon className=\"size-5\" />}\n      </Button>\n    </div>\n  );\n}\n",
      "type": "registry:component"
    }
  ],
  "meta": {
    "iframeHeight": "800px"
  },
  "categories": [
    "sidekick"
  ],
  "type": "registry:block"
}